<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Tracks | Create Tasks in Tracks via Email using the RESTFul API</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name='MSSmartTagsPreventParsing' content='TRUE' />
<meta http-equiv='expires' content='-1' />
<meta http-equiv= 'pragma' content='no-cache' />
<meta name='robots' content='all' />

<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="http://www.getontracks.org/forums/atom/10/" />
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://www.getontracks.org/forums/rss/10/" />

<script type="text/javascript"> 
<!--

function navHover(which)
{					
	if (document.getElementById(which.id))
	{
		cur = document.getElementById(which.id).className;
		
		if (cur == 'buttonLarge')
		{
			document.getElementById(which.id).className = 'buttonLargeHover'
		}
		else if (cur == 'buttonSmall')
		{
			document.getElementById(which.id).className = 'buttonSmallHover'
		}
	}
}

function navReset(which)
{					
	if (document.getElementById(which.id))
	{
		cur = document.getElementById(which.id).className;
		
		if (cur == 'buttonLargeHover')
		{
			document.getElementById(which.id).className = 'buttonLarge'
		}
		else if (cur == 'buttonSmallHover')
		{
			document.getElementById(which.id).className = 'buttonSmall'
		}
	}
}


function navJump(where)
{
	window.location=where;
}
-->
</script>


<style type='text/css'>


* {
	margin: 0;
	padding: 0;
	}
body {
	font: 78% Helvetica, Arial, sans-serif;
	text-align: center;
	color: #036;
	background: #344;
    line-height:1.4em;
	}
#wrapper {
	text-align: left;
	min-width: 760px;
	margin: .5em 2em;
	color: #fff;
	background: #036 url(http://www.getontracks.org/themes/forum_themes/blue/images/background.gif) 50% 0% repeat-y;
	border: 6px solid #233;
	}
#content {
	padding: .5em 1.5% 0 1.5%;
	border-right: 3px solid #047;
	border-left: 3px solid #047;
	}
#content ul {
	list-style: none;
	line-height: 1.5em;
	margin: .25em 0;
}
p {
	margin: 0 10px;
	line-height:1.4em;
	}
a:link {
	color: #adf;
	border: none;
    }
a:visited {
	color: #ccc;
	}
a:hover, a:active {
	text-decoration: none;
	}
#topbar a, #footer a, #subhead a {
	text-decoration: none;
	padding: .25em .5em;
	}
#topbar a:hover, #footer a:hover, #subhead a:hover {
	background: #047;
	}
h1, h2, h3, h4, h5, h6 {
	font-weight: bold;
	}
h2 {
	font-size: 2em;
	}
hr.clear {
	clear: both;
	margin: 0;
	padding: 0;
	visibility: hidden;
	border: none;
	}
img {
	border: none;
	}
#address_book, #address_book td, #emoticons
	{
		background: #3cf;
	}
#emoticons a, #address_book a
	{
		color: #00f;
		padding: 3px;
	}
div#topbar {
	padding: .5em 1.5%;
	border-top: 3px solid #047;
	border-right: 3px solid #047;
	border-left: 3px solid #047;
	background: #025 url(http://www.getontracks.org/themes/forum_themes/blue/images/background-dk.gif) 50% 0% repeat-y;
	}
#topbar ul {
	float: left;
	display: inline;
	text-align: left;
	list-style: none;
	line-height: 1em;
	font-size: 1em;
	display: inline;
	}
#topbar ul li {
	display: inline;
	margin-right: .5em;
	}
#topbar form {	
	text-align: right;
	}
#topbar form fieldset {
	padding-bottom: .5em;
	}
#topbar form input {
	margin: 0 .25em;
	}
#topbar form div {
	display: none;
	}
#header {  
	clear: both;
	padding: .5em 1.5% 0 1.5%;
	border-right: 3px solid #047;
	border-bottom: 1px solid #047;
	border-left: 3px solid #047;
	background: #025 url(http://www.getontracks.org/themes/forum_themes/blue/images/background-dk.gif) 50% 0% repeat-y;
	}
#header h1 {
	float: left;
 	display: inline;
 	text-transform: uppercase;
	font-weight: normal;
	font-size: 2.5em;
	line-height: 1em;
	}
#header h1 a {
	color: #69c;
	text-decoration: none;
	}
#header h1 a:hover {
	color:#adf;			
    }
#header form {
	text-align: right;
	padding: .25em;
	}
#header form input {
	width: 8em;
	}
#header form .submit {
	width: 5em;
	margin: 0 .5em;
	}
#header form div {
	display: none;
	}
#subhead {  
	clear: both;
	padding: .5em 1.5%;
	border-right: 3px solid #047;
	border-left: 3px solid #047;	
	background: #025 url(http://www.getontracks.org/themes/forum_themes/blue/images/background-dk.gif) 50% 0% repeat-y;
	}
div.breadcrumb {
	display: inline;
	}
.currentcrumb {
	font-weight: bold;
	}
ul.forumnav {
	list-style: none;
	margin-bottom: 1em;
	}
ul.forumnav li {
	display: inline;
	margin-right: 1em;
	}
ul.forumnav li a {
	padding: .25em .5em;
	text-decoration: none;
	}
ul.forumnav li a:hover {
	background: #025;
	}
#footer {
	clear: both;
	padding: 1.5%;
	text-align: center;
	font-size: .9em;
	color: #69c;
	border-top: 1px solid #047;
	border-right: 3px solid #047;
	border-bottom: 3px solid #047;
	border-left: 3px solid #047;
	background: #025 url(http://www.getontracks.org/themes/forum_themes/blue/images/background-dk.gif) 50% 0% repeat-y;
	}
#footer a {
	font-weight: bold;
	}
#footer ul {
	list-style: none;
	line-height: 1.5em;
	margin: .25em 0;
	}
#footer ul li {
	display: inline;
	padding: .5em;
	}
#footer select {
	margin: .5em;
	}
.forumName {
	letter-spacing:    .1em;
	}
.forumDescription {
	padding:           3px 0 0 0;
	}
.forumLightLinks {
	padding:           4px 0 2px 0;
	}
.topicTitle {
	letter-spacing:    .1em;
	}
.userBlock {
	padding:	2px 0 2px 0;
	}
.spacer {
	height: .5em;
	margin-bottom: 1em;
	}
.itempad {
	padding: 2px 0 2px 0;
	}
.itempadbig {
	padding: 5px 0 5px 0;
	}
.bottompad {
	padding: 0 0 2px 0;
	}
.marginpad {
	margin: 12px 0 10px 3px;
	}
.leftpad {
 	padding: 0 0 0 4px;
	}
table {
	border-collapse: collapse;
	}
.legend {
	margin-top: 1em;
	padding: .5em 0;
	background: #036;
	}
.tableBorder {
	padding: 0;
	margin-top: 1px;
	margin-bottom: 3px;
	}
.tablePad {
	padding:  0 2px 4px 2px;
	}
.tableHeading {
	letter-spacing: .1em;
	font-size: 1.1em;
	font-weight: bold;
	text-transform: uppercase;
	color: #69c;
	white-space: nowrap;
	margin: 1em 0 0 0;
	}
.tableHeadingSmall {
	font-size: .9em;
	color: #69c;
	white-space: nowrap;
	margin: 0 0 .5em 0;
	}
.tableHeadingBG {
	background: #036;
	border-top: 1px solid #025;
	font-size: 1em;
	padding: 1em .5em 0 .5em;
	}
.tableRowHeading, .tableRowHeadingBold {
	padding: .25em .5em;
	border-bottom: 1px solid #025;
	background: #047;
	color: #69c;
	font-size: .8em;
	text-transform: uppercase;
	letter-spacing: .2em;
	}
.tableRowSpacer {
	}
.threadBorder {
	border: 1px solid #025;
	margin: 1em 0;
	padding: .25em 0;
	}
.tableCellOne {
	padding:           3px 6px 3px 6px;
	}
.tableCellTwo {
	padding:           3px 6px 3px 6px;
	}
.tablePostInfo {
	margin-bottom: .75em;
	}
.ignored {
	border: 1px solid #69c;
	padding: 0;
	margin-top: 1px;
	margin-bottom: 3px;
	}
.button {
	width: 80px;
	background-color: transparent;
	}
.button40 {
	width: 40px;
	background-color: transparent;
	}
.button80 {
	width: 80px;
	background-color: transparent;
	}
.button100 {
	width: 100px;
	background-color: transparent;
	}
.button150 {
	width: 150px;
	background-color: transparent;
	}
.button210 {
	width: 210px;
	background-color: transparent;
	}
.buttonSpacer{
	margin:	0 0 0 6px;
	}
.buttonLarge {
	background: #025 url(http://www.getontracks.org/themes/forum_themes/blue/images/background-dk.gif) 50% 50% repeat-y;
	border: 1px solid #69c;
	text-transform: uppercase;
	text-align: center;
	color: #fff;
	font-weight: bold;
	padding: 2px 4px 2px 4px;
	margin: .25em 0 .25em 0;
	white-space: nowrap;
	cursor: pointer;
	}
.buttonLargeHover {
	background: #047 url(http://www.getontracks.org/themes/forum_themes/blue/images/background-lt.gif) 50% 50% repeat-y;
	border: 1px solid #69c;
	text-transform: uppercase;
	text-align: center;
	color: #fff;
	font-weight: bold;
	padding: 2px 4px 2px 4px;
	margin: .25em 0 .25em 0;
	white-space: nowrap;
	cursor: pointer;
	}
.buttonSmall {
	border: 1px solid #69c;
	font-size: .9em;
	text-transform: uppercase;
	text-align:	center;
	color: #69c;
	padding: 0px 1px 0px 1px;
	margin: 0 2px 0 2px;
	white-space: nowrap;
	cursor: pointer;
	}
.buttonSmallHover {
	background: #047 url(http://www.getontracks.org/themes/forum_themes/blue/images/background-lt.gif) 50% 50% repeat-y;
	border: 1px solid #69c;
	font-size: .9em;
	text-transform: uppercase;
	text-align:	center;
	color: #fff;
	padding: 0px 1px 0px 1px;
	margin: 0 2px 0 2px;
	white-space: nowrap;
	cursor: pointer;
	}
.rankAdmin, .rankModerator, .rankMember {
	font-weight: bold;
	color: #69c;
	padding: 2px 0 3px 0;
	}
.rankImage {
	margin: 0;
	padding: 0;
	border:  0;
	}
.userBlock {
	color: #69c;
	}
.post {
	margin: 1em 0;
	line-height: 1.5em;
	}
.edited {
	font-size:		9px;
	color:			#69c;
}
code {
	white-space: normal;
	}
pre {
	background: #def;
	border: 1px solid #69c;
	color: #69c;
	margin: 8px 2px 10px 6px;
	padding: 10px 10px 10px 6px;
	white-space: normal;
	}
.codeblock {
	background: #def;
	border: 1px solid #69c;
	color: #69c;
	margin: 8px 4px 10px 3px;
	padding: 10px 10px 10px 6px;
	}
blockquote {
	background: #036;
	border:	1px solid #69c;
	color: #69c;
	margin: 8px 2px 10px 6px;
	padding: 5px 10px 10px 6px;
	}
.quote_author {
	font-weight: bold;
	color: #69c;
	margin:	0 0 4px 0;
	background-color: transparent;
	}
.signature {
	margin: 1em .5em .5em .5em;
	padding: .25em;
	border: 1px solid #69c;
	}
.signatureTitle {
	color: #69c;
	}
.buttonMode {
	white-space: 		nowrap;
	}
.htmlButtonOuter, .htmlButtonOuterL {
	padding:           0;
	border-top:        #025 1px solid;
	border-right:      #025 1px solid;
	border-bottom:     #025 1px solid;
	}
.htmlButtonOuterL  {
	border-left:       #025 1px solid;
	}
.htmlButtonInner {
	background-color:  transparent; 
	text-align:		center;
	padding:			0 3px 0 3px;
	}
.htmlButtonOff {
	padding:           1px 2px 2px 2px;
	white-space:       nowrap;
	}
.htmlButtonOff a:link { 
	color:             #69c;
	text-decoration:   none;
	white-space:       nowrap;
	}
.htmlButtonOff  a:visited { 
	text-decoration:   none;
	}
.htmlButtonOff a:active { 
	text-decoration:   none;
	color:             #fff;
	}
.htmlButtonOff a:hover { 
	text-decoration:   none;
	background:        #047;
	color:             #fff;
	}
.htmlButtonOn {
	background:        #047;
	padding:           1px 2px 2px 2px;
	white-space:       nowrap;
	}
.htmlButtonOn a:link { 
	color:             #990000;
	text-decoration:   none;
	white-space:       nowrap;
	}
.htmlButtonOn  a:visited { 
	text-decoration:   none;
	}
.htmlButtonOn a:active { 
	text-decoration:   none;
	color:             #999;
	}
.htmlButtonOn a:hover { 
	color:             #999;
	text-decoration:   none;
	}
.attachTitle {
	font-weight:		bold;
	color:             #fff;
	padding:           4px;
	margin:			10px 0 1px 0;
	}
.attachBody {
	padding:           4px;
	margin-bottom:		10px;
	}
.attachThumb {
	margin: 3px 6px 3px 3px;
	border: 1px solid 	#025;
	}
.preview {
	padding:           10px;
	margin:			0 0 12px 0;
	border:       		1px solid #025;
	}
.previewheading {
	font-weight:		bold;
	color: #69c;
	text-transform: uppercase;
	padding:           5px 0 5px 10px;
	border-top:     	1px solid #025;
	border-right:     	1px solid #025;
	border-left:     	1px solid #025;
	}
.activeModerator {
	font-weight: bold;
	}
form {
	margin:            0;
	padding:           0;
	border:            0;
	}
fieldset {
	border: none;
	}
.hidden {
	margin:            0;
	padding:           0;
	border:            0;
	}
.input {
	border:        1px solid #69c;
	color:             #69c;
	height:            1.5em;
	padding:           0;
	margin:        	0;
	}
.textarea {
	border:        1px solid #69c;
	color:             #333;
	font-size:         11px;
	padding:           0;
	margin:        	0;
	}
.select {
	background-color:  #fff;
	font-weight:       normal;
	letter-spacing:    .1em;
	color:             #333;
	margin-top:        2px;
	margin-bottom:     2px;
	}
.multiselect {
	border:        1px solid #69c;
	background-color:  #fff;
	color:             #333;
	font-size:         11px;
	margin-top:        2px;
	margin-top:        2px;
	}
.radio {
	background-color:  transparent;
	margin-top:        4px;
	margin-bottom:     4px;
	padding:           0;
	border:            0;
	}
.checkbox {
	background-color:  transparent;
	padding:           0;
	border:            0;
	}
.buttons {
	font-weight:       bold;
	border:        1px solid #69c;
	letter-spacing:    .1em;
	margin:        	0;
	padding:			1px 6px 3px 6px;
	color:             #69c;
	background: #025;
	cursor: pointer;
	}
.submit {
	font-weight:       normal;
	border:        1px solid #69c;
	letter-spacing:    .1em;
	margin:        	0;
	padding:			1px 4px 1px 4px;
	color:             #69c;
	background: #025;
	cursor: pointer;
	}
.errorHeading {
	background: 		#025;
	color:             #fff;
	padding:           6px 6px 6px 6px;
	border-bottom:     1px solid #fff;
	letter-spacing:    .1em;
	font-weight:		bold;
	}
.errorMessage {
	color:             #f00;
	padding:           10px 0 10px 0;
	}
.errorBox {
	color: #f00;
	padding: 10px;
	margin: 0 0 12px 0;
	border: 1px solid #f00;
	background: #fcc;
	}
.alert {
	color:             #f00;
	font-weight:		bold;
	}
.highlight {
	color:             #f00;
	}
.profileTitle {
	font-size: 1.5em;
	font-weight: bold;
	margin: .5em 0;
	}
.memberlistHead {
	padding: .25em .5em;
	border-bottom: 1px solid #025;
 	background: #047;
	color: #69c;
	font-size: .8em;
	text-transform: uppercase;
	}
.memberlistRowOne {
	padding: .5em;
	background: #047;
	}
.memberlistRowTwo {
	padding: .5em;
	}
.memberlistFooter {
	padding: 1em .5em;
	}
.profileHeadingBG {
	background: #036;
	padding:           6px 6px 6px 6px;
	border-bottom:     #025 1px solid;
	}
.profileTopBox {
	margin:		0;
	padding:		7px 5px 5px 5px;
	}
.profileTitle {
	font-weight:		bold;
	padding: 			3px 5px 3px 0;
	margin:			0;
	background-color: transparent;  
	}
.profileItem {
	background:		transparent;
	margin: 			2px 0 2px 0;
	background-color: transparent;  
	}
.profilePhoto {
	padding:			1px 1px 1px 20px;
	margin-top:        1px;
	margin-bottom:     3px;
	}
.avatar {
	background:	transparent;
	margin:		3px 14px 0 3px;
	}
.photo {
	background:	transparent;
	margin:		6px 14px 0 3px;
	}
.profileHead {
	font-weight:		bold;
	text-transform:	uppercase;
	padding:			3px 4px 3px 10px;  
	margin:			0 0 0 0;
	}
.menuHeadingBG {
	background: #036;
	padding:           6px 6px 6px 6px;
	}
.profileMenu {
	background: 		#036;
	border:            1px solid #025;
	padding:			1px;
	margin-top:        1px;
	margin-bottom:     3px;
	}
.profileMenuInner {
	padding-left:		10px;
	padding-right:		8px;
	margin-bottom:		4px;
	margin-top:		4px;
	}
.menuItem {
	padding:			3px 0 3px 0;
	background-color:	transparent;  
	}
.borderTopBot {
	border-top:	1px solid #025;
	border-bottom:	1px solid #025;
	}
.borderBot {
	border-bottom:	1px solid #025;
	}
.success {
	font-weight:		bold;
	padding:			3px 0 3px 0;
	background-color:	transparent; 
	}
.innerShade {
	background-color:	#036;
	margin:			0;
	padding:			10px;
	}
.searchBox {
	background: transparent;
	margin: 16px 0 0 0;
	padding: 8px 5px 5px 5px;
	}
.searchBoxTitle {
	font-weight: bold;
	background-color: transparent;  
	}
.searchpad {
	padding: 6px 0 8px 0;
	}
.searchspacer {
	margin-bottom: 6px;
	}
.iframe {
	border:1px solid #025;
	background: #def;
	color: #036;
	}
.wordSuggestion {
	border: 1px solid #036; 
	padding: 4px; 
	background: #def;
	color: #036;
	}
.wordSuggestion a, .wordSuggestion a:active {
	color: #036;
	cursor: pointer;
	}
.spellchecked_word {
	cursor: pointer;
	background-color: #def;
	color:#036;
	border-bottom: 1px dashed #036;
	}
.spellchecked_word_selected {
	cursor: pointer;
	background-color: #69c;
	}
</style>

</head>

<body >
<div id="wrapper">
<div id='topbar'>
	<ul>
		
		<li class="welcome">Welcome Guest</li>
		<li><a href="http://www.getontracks.org/forums/member/login/">Login</a></li>
		<li>REGISTRATION CLOSED: please use <a href="http://lists.rousette.org.uk/mailman/listinfo/tracks-discuss">mailing list</a></li>
		
		
	</ul>
     
     <form method="post" action="http://www.getontracks.org/"  >
<div class='hiddenFields'>
<input type="hidden" name="XID" value="70452b62100864d46521b648e37c0740626ccf5e" />
<input type="hidden" name="ACT" value="9" />
<input type="hidden" name="FROM" value="forum" />
<input type="hidden" name="mbase" value="http://www.getontracks.org/forums/member/" />
<input type="hidden" name="board_id" value="1" />
<input type="hidden" name="anon" value="1" />
<input type="hidden" name="RET" value="http://www.getontracks.org/forums/viewthread/203/" />
<input type="hidden" name="site_id" value="1" />
</div>


	<fieldset>	
		<label class="field-username">Username<input type="text" class="textbox" name="username" value="" /></label>
		<label class="field-password">Password<input type="password" class="textbox" name="password" /></label>
		<input type="submit" class="submit" value="Login" />
	</fieldset>	
	<fieldset>
		<label class="field-remember">Remember Me?<input type="checkbox" class="checkbox" name="auto_login" value="1" checked="checked" /></label>
		<a href="http://www.getontracks.org/forums/member/forgot_password/">forgot password?</a>
	</fieldset> 
</form>
     
<hr class="clear" />
</div><!--topbar-->
<div id='header'>
     <h1><a href="http://www.getontracks.org/forums/" title="Tracks">Tracks</a></h1>
     <form method="post" action="http://www.getontracks.org/forums/do_search/"  >
<div class='hiddenFields'>
<input type="hidden" name="XID" value="df14b146242aa51a94f341c1a5ded98bf80f128c" />
<input type="hidden" name="board_id" value="1" />
<input type="hidden" name="site_id" value="1" />
</div>



<label class="searchbox"><input type="text" class="input" name="keywords" value="Search" maxlength="80" /></label>
<input type="submit" class="submit" value="Search" />
<a href="http://www.getontracks.org/forums/search/">Advanced Search</a>

</form>
    <hr class="clear" />
</div><!--header-->
<div id="subhead">
		<div class="breadcrumb"><a href="http://www.getontracks.org/forums/">Forum Home</a><span class="breadcrumbspacer"> &gt; </span><a href="http://www.getontracks.org/forums/viewcategory/4/">Usage</a><span class="breadcrumbspacer"> &gt; </span><a href="http://www.getontracks.org/forums/viewforum/10/">Tips and Tricks</a><span class="breadcrumbspacer"> &gt; </span><span class="currentcrumb">Thread</span></div>
<hr class="clear" />
</div><!--subhead-->
<div id="content">
<script type="text/javascript">
<!--

function showimage(loc, width, height)
{
	window.open(loc,'Image','width='+width+',height='+height+',screenX=0,screenY=0,top=0,left=0,toolbar=0,status=0,scrollbars=0,location=0,menubar=1,resizable=1');
	return false;
}

function showfastreply()
{
    if (document.getElementById('fastreply').style.display == "block")
    {
        document.getElementById('fastreply').style.display = "none";
    }
    else
    {
        document.getElementById('fastreply').style.display = "block";
    }
}

function showHideRow(el)
{
    if (document.getElementById(el).style.display == "")
    {
        document.getElementById(el).style.display = "none";
    }
    else
    {
        document.getElementById(el).style.display = "";
    }	
}
//-->
</script>

<table cellpadding="0" cellspacing="0" border="0" style="width:100%;">
<tr>
<td valign="middle" style="width:80%;">
&nbsp;
</td>
&nbsp;

&nbsp;

</tr>
</table>



<table cellpadding="0" cellspacing="0" border="0" style="width:100%;" >
<tr>
<td class="tableHeadingBG" colspan="2"><div class="tableHeading">Create Tasks in Tracks via Email using the RESTFul API</div></td>
<td class="tableHeadingBG" colspan="1" align="right"><div class="altLinks">&nbsp;</div></td>

</tr>



<tr id="a9" >
 <td colspan="3">


 <table class="threadBorder" cellpadding="0" cellspacing="0" border="0" style="width:100%;">
  <tr>
   <td class="tableRowHeadingBold" style="width:130px;"><div class="largeLinks"><a href="http://www.getontracks.org/forums/member/324/">lkraven</a></div></td>
   <td class="tableRowHeading">

	<table cellpadding="0" cellspacing="0" border="0" style="width:99%;">
	<tr>
	<td>Posted: 29 March 2008 12:27 PM</td>
	<td align="right">
	
		
	
	    
	
	

	
	
	&nbsp;&nbsp;<span class="smallLinks">[ <a href="http://www.getontracks.org/forums/ignore_member/324/" title="Ignore">Ignore</a> ]</span>
	
	

	&nbsp;
	</td>
	</tr>
	</table>

   </td>
  </tr>
<tr>
 <td class="tableCellOne" style="width:130px;" valign="top">
	<div class="rankMember">Newbie</div>
	
	<div class="itempad"><img src="http://www.getontracks.org/themes/forum_themes/blue/images/rank.gif" alt="Rank" class="rankImage" /></div>
	<div class="userBlock">Total Posts:&nbsp; 1</div>
	<div class="userBlock">Joined&nbsp; 2008-03-29</div>
</td>
<td class="tableCellOne" valign="top" colspan="2"><div class="post"><p>First off, I have to confess that unless you already know what you&#8217;re doing, this is a pretty technical trick.</p>

<p>I have rigged my hosted Tracks installation to be able to receive emails into an Inbox context I can sort through later.</p>

<p>This allows me to go through my email (gmail, or otherwise) and forward emails to &#8220;mygtd@mydomain.com&#8221; and have it automatically create a to-do with the subject of the email as the description and the body of the email as a note.</p>

<p>Again, this is somewhat tricky, but if you have the background to do it, I am including source code.&nbsp; In this case, all we have used is a perl script.</p>

<p>I can provide very little support, so hopefully you can get it working.&nbsp; This is something I badly wanted, and found a way to do&#8230; I didn&#8217;t think I should hoarde the benefits to myself, but neither can I be as much assistance as I would like.</p>

<p>Requirements:</p>

<p>I. You have to run your own email server capable of receiving emails and piping it to a script.&nbsp; If you don&#8217;t know what this means, you may not be able to do it.</p>

<p>II. You probably have to be running Tracks in a hosted environment.&nbsp; I have not tried it with anything other than on a linux host.</p>

<p>Once you have created the email address, modify the following script per the comments, and pipe it to the script.&nbsp; It works wonderfully.</p>

<div class="codeblock"><code><span style="color: #000000">
<span style="color: #FF8000">#!/usr/bin/perl<br />#&nbsp;Quick&nbsp;and&nbsp;dirty&nbsp;hack&nbsp;to&nbsp;add&nbsp;tasks&nbsp;via&nbsp;an&nbsp;email.<br />#&nbsp;Install&nbsp;by&nbsp;adding&nbsp;an&nbsp;alias&nbsp;in&nbsp;/etc/aliases&nbsp;or&nbsp;/etc/valiases&nbsp;depending<br />#&nbsp;on&nbsp;yor&nbsp;system:<br />#<br />#&nbsp;mygtdaddress@mydomain.com:&nbsp;"|/home/directory/inboxgtd.pl"<br />#<br /><br /><br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">strict</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">WWW</span><span style="color: #007700">::</span><span style="color: #0000BB">Curl</span><span style="color: #007700">::</span><span style="color: #0000BB">Easy</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">open&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">STDOUT</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"&gt;/dev/null"</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Redirect&nbsp;CURL&nbsp;output&nbsp;to&nbsp;null.&nbsp;&nbsp;Some&nbsp;mail&nbsp;servers&nbsp;will&nbsp;bounce<br /></span><span style="color: #0000BB">open&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">STDERR</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"&gt;/dev/null"</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;messages&nbsp;if&nbsp;there&nbsp;is&nbsp;any&nbsp;return.<br /><br /><br />#&nbsp;Replace&nbsp;with&nbsp;todos.xml&nbsp;url&nbsp;of&nbsp;your&nbsp;GTD&nbsp;installation<br />#&nbsp;my&nbsp;$url&nbsp;=&nbsp;"http://yourgtd.yourdomain.com/todos.xml";<br /><br /></span><span style="color: #0000BB">my&nbsp;$url&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"http://yourgtd.yourdomain.com/todos.xml"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;The&nbsp;contextid&nbsp;where&nbsp;you&nbsp;want&nbsp;the&nbsp;todo&nbsp;added.&nbsp;&nbsp;Usually&nbsp;an&nbsp;inbox.<br /></span><span style="color: #0000BB">my&nbsp;$contextid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"1"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">my&nbsp;$curl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">WWW</span><span style="color: #007700">::</span><span style="color: #0000BB">Curl</span><span style="color: #007700">::</span><span style="color: #0000BB">Easy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">new</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">my&nbsp;$description&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$note&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;Your&nbsp;authorization&nbsp;credentials&nbsp;in&nbsp;the&nbsp;format<br />#&nbsp;my&nbsp;$auth&nbsp;=&nbsp;"username:password";<br />#<br /></span><span style="color: #0000BB">my&nbsp;$auth&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"username:password"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;Leave&nbsp;these&nbsp;tokens&nbsp;alone.&nbsp;&nbsp;They&nbsp;are&nbsp;valid&nbsp;as&nbsp;of&nbsp;Tracks&nbsp;1.5&nbsp;RESTful&nbsp;API.<br /></span><span style="color: #0000BB">my&nbsp;$notetag&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"todo&#91;notes&#93;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$contexttag&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"todo&#91;context_id&#93;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$descriptiontag&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"todo&#91;description&#93;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;Dirty&nbsp;hack.&nbsp;&nbsp;First&nbsp;blank&nbsp;line&nbsp;begins&nbsp;body&nbsp;text.<br /></span><span style="color: #0000BB">my&nbsp;$passedempty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">my&nbsp;</span><span style="color: #007700">@</span><span style="color: #0000BB">mail&nbsp;</span><span style="color: #007700">=&nbsp;&lt;</span><span style="color: #0000BB">STDIN</span><span style="color: #007700">&gt;;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Read&nbsp;in&nbsp;the&nbsp;piped&nbsp;email<br /></span><span style="color: #0000BB">my&nbsp;$line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br /><br />foreach&nbsp;</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">(@</span><span style="color: #0000BB">mail</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(&nbsp;(</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=~&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">/</span><span style="color: #0000BB">Subject</span><span style="color: #007700">:&nbsp;(.*)/)&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;If&nbsp;it's&nbsp;the&nbsp;subject&nbsp;line...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$description&nbsp;</span><span style="color: #007700">=&nbsp;$</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;...&nbsp;use&nbsp;it&nbsp;for&nbsp;the&nbsp;todo&nbsp;description<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(&nbsp;</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=~&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">/^$/&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Checking&nbsp;for&nbsp;that&nbsp;blank&nbsp;line<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$passedempty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$passedempty</span><span style="color: #007700">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Once&nbsp;we&nbsp;see&nbsp;it&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$note&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$note&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$line</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Copy&nbsp;every&nbsp;blank&nbsp;line&nbsp;into&nbsp;the&nbsp;todo&nbsp;note.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br />&#125;<br /><br /></span><span style="color: #FF8000">#&nbsp;Here&nbsp;we&nbsp;munge&nbsp;the&nbsp;data&nbsp;together&nbsp;to&nbsp;post.<br /><br /></span><span style="color: #0000BB">my&nbsp;$post_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$contexttag&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"="&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$contextid&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"&amp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$descriptiontag&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"="&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$description&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"&amp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$notetag&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"="&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$note</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;We&nbsp;execute&nbsp;curl&nbsp;to&nbsp;do&nbsp;the&nbsp;posting.<br /><br /></span><span style="color: #0000BB">$curl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">CURLOPT_URL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$url</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$curl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">CURLOPT_POSTFIELDS</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$post_data</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$curl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">CURLOPT_USERPWD</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$auth</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$curl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">perform</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">close&nbsp;STDOUT</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">close&nbsp;STDERR</span><span style="color: #007700">;&nbsp;</span>
</span>
</code></div></div>
	
	
	
</td>

</tr><tr>

<td class="tableCellTwo"  style="width:130px;">
	<table cellpadding="0" cellspacing="0" border="0" width="100%">
	<tr>
	<td align="center"><div class="button"><div class="buttonSmall" id="a1" onclick="navJump('http://www.getontracks.org/forums/member/324/')" onmouseover="navHover(this);" onmouseout="navReset(this);">Profile</div></div></td>
	
	

	</tr>
	</table>
</td>

<td class="tableCellTwo" colspan="2">
	<table cellpadding="0" cellspacing="0" border="0">
	<tr>
	
	
	
	
		
		
				
	
	
	
	
	&nbsp;
	
	<td>&nbsp;</td>	
	</tr>
	</table>
  </td>
 </tr>
</table>

</td>
</tr>

<tr id="b9" >
 <td colspan="3">


 <table class="threadBorder" cellpadding="0" cellspacing="0" border="0" style="width:100%;">
  <tr>
   <td class="tableRowHeadingBold" style="width:130px;"><div class="largeLinks"><a href="http://www.getontracks.org/forums/member/338/">lucky13cxc</a></div></td>
   <td class="tableRowHeading">

	<table cellpadding="0" cellspacing="0" border="0" style="width:99%;">
	<tr>
	<td>Posted: 08 April 2008 09:39 PM</td>
	<td align="right">
	
		
	
	

	
	
	&nbsp;&nbsp;<span class="smallLinks">[ <a href="http://www.getontracks.org/forums/ignore_member/338/" title="Ignore">Ignore</a> ]</span>
	
	&nbsp;&nbsp;<span class="smallLinks">[ <a name="606" href="http://www.getontracks.org/forums/viewreply/606/" title="Permalink to this post"># 1</a> ]</span>

	&nbsp;
	</td>
	</tr>
	</table>

   </td>
  </tr>
<tr>
 <td class="tableCellOne" style="width:130px;" valign="top">
	<div class="rankMember">Newbie</div>
	
	<div class="itempad"><img src="http://www.getontracks.org/themes/forum_themes/blue/images/rank.gif" alt="Rank" class="rankImage" /></div>
	<div class="userBlock">Total Posts:&nbsp; 2</div>
	<div class="userBlock">Joined&nbsp; 2008-04-08</div>
</td>
<td class="tableCellOne" valign="top" colspan="2"><div class="post"><p>Fantastic! I&#8217;ve made some modifications to allow it to handle a context and due date in the format:</p>

<p>@&lt;context&gt; &lt;due date&gt;</p>

<p>I&#8217;ll post my modified version later tonight if I get the chance.</p></div>
	
	
	
</td>

</tr><tr>

<td class="tableCellTwo"  style="width:130px;">
	<table cellpadding="0" cellspacing="0" border="0" width="100%">
	<tr>
	<td align="center"><div class="button"><div class="buttonSmall" id="b1" onclick="navJump('http://www.getontracks.org/forums/member/338/')" onmouseover="navHover(this);" onmouseout="navReset(this);">Profile</div></div></td>
	
	

	</tr>
	</table>
</td>

<td class="tableCellTwo" colspan="2">
	<table cellpadding="0" cellspacing="0" border="0">
	<tr>
	
	
	
	
	
	
		
	
	
	&nbsp;
	
	<td>&nbsp;</td>	
	</tr>
	</table>
  </td>
 </tr>
</table>

</td>
</tr>

<tr id="c9" >
 <td colspan="3">


 <table class="threadBorder" cellpadding="0" cellspacing="0" border="0" style="width:100%;">
  <tr>
   <td class="tableRowHeadingBold" style="width:130px;"><div class="largeLinks"><a href="http://www.getontracks.org/forums/member/100/">Reinier Balt</a></div></td>
   <td class="tableRowHeading">

	<table cellpadding="0" cellspacing="0" border="0" style="width:99%;">
	<tr>
	<td>Posted: 10 April 2008 09:03 AM</td>
	<td align="right">
	
		
	
	

	
	
	&nbsp;&nbsp;<span class="smallLinks">[ <a href="http://www.getontracks.org/forums/ignore_member/100/" title="Ignore">Ignore</a> ]</span>
	
	&nbsp;&nbsp;<span class="smallLinks">[ <a name="618" href="http://www.getontracks.org/forums/viewreply/618/" title="Permalink to this post"># 2</a> ]</span>

	&nbsp;
	</td>
	</tr>
	</table>

   </td>
  </tr>
<tr>
 <td class="tableCellOne" style="width:130px;" valign="top">
	<div class="rankMember">Sr. Member</div>
	
	<div class="itempad"><img src="http://www.getontracks.org/themes/forum_themes/blue/images/rank.gif" alt="Rank" class="rankImage" /><img src="http://www.getontracks.org/themes/forum_themes/blue/images/rank.gif" alt="Rank" class="rankImage" /><img src="http://www.getontracks.org/themes/forum_themes/blue/images/rank.gif" alt="Rank" class="rankImage" /><img src="http://www.getontracks.org/themes/forum_themes/blue/images/rank.gif" alt="Rank" class="rankImage" /></div>
	<div class="userBlock">Total Posts:&nbsp; 882</div>
	<div class="userBlock">Joined&nbsp; 2006-10-05</div>
</td>
<td class="tableCellOne" valign="top" colspan="2"><div class="post"><p>looks good! I&#8217;ve done something similar with the XMLRPC interface of tracks [1]. I&#8217;m using the rich_api which you can use to put an action in context and project like:&nbsp; &#123;&#123;&#123; description of task @context &gt; project &#125;&#125;&#125;. I&#8217;m not sure if you can use the rich api with REST&#8230; I&#8217;m using the perl to parse the email (package) so that I can fill the notes field from attachements if necessary.</p>

<p>[1] <a href="http://www.getontracks.org/?URL=http%3A%2F%2Fwww.rousette.org.uk%2Fprojects%2Fforums%2Fviewthread%2F75%2F">http://www.rousette.org.uk/projects/forums/viewthread/75/</a></p></div>
	
	
	
</td>

</tr><tr>

<td class="tableCellTwo"  style="width:130px;">
	<table cellpadding="0" cellspacing="0" border="0" width="100%">
	<tr>
	<td align="center"><div class="button"><div class="buttonSmall" id="c1" onclick="navJump('http://www.getontracks.org/forums/member/100/')" onmouseover="navHover(this);" onmouseout="navReset(this);">Profile</div></div></td>
	
	

	</tr>
	</table>
</td>

<td class="tableCellTwo" colspan="2">
	<table cellpadding="0" cellspacing="0" border="0">
	<tr>
	
	
	
	
	
	
		
	
	
	&nbsp;
	
	<td>&nbsp;</td>	
	</tr>
	</table>
  </td>
 </tr>
</table>

</td>
</tr>

<tr id="d9" >
 <td colspan="3">


 <table class="threadBorder" cellpadding="0" cellspacing="0" border="0" style="width:100%;">
  <tr>
   <td class="tableRowHeadingBold" style="width:130px;"><div class="largeLinks"><a href="http://www.getontracks.org/forums/member/351/">emkay</a></div></td>
   <td class="tableRowHeading">

	<table cellpadding="0" cellspacing="0" border="0" style="width:99%;">
	<tr>
	<td>Posted: 22 April 2008 09:02 AM</td>
	<td align="right">
	
		
	
	

	
	
	&nbsp;&nbsp;<span class="smallLinks">[ <a href="http://www.getontracks.org/forums/ignore_member/351/" title="Ignore">Ignore</a> ]</span>
	
	&nbsp;&nbsp;<span class="smallLinks">[ <a name="650" href="http://www.getontracks.org/forums/viewreply/650/" title="Permalink to this post"># 3</a> ]</span>

	&nbsp;
	</td>
	</tr>
	</table>

   </td>
  </tr>
<tr>
 <td class="tableCellOne" style="width:130px;" valign="top">
	<div class="rankMember">Newbie</div>
	
	<div class="itempad"><img src="http://www.getontracks.org/themes/forum_themes/blue/images/rank.gif" alt="Rank" class="rankImage" /></div>
	<div class="userBlock">Total Posts:&nbsp; 4</div>
	<div class="userBlock">Joined&nbsp; 2008-04-22</div>
</td>
<td class="tableCellOne" valign="top" colspan="2"><div class="post"><p>For those who are not running a mail server, I have written this script in python that polls a pop3 server for a specific email address and creates a tracks action named as the subject of the email (The action is put into a hardcoded context&#8230; inbox in my case).<br />
Here is the code, it is coded for gmail collection to my inbox context, but the comments show which bits to change (marked with &#8216;CHANGE&#8217;)<br />
This can be run in a bat file on windows as a Scheduled Task (mine runs every 10 minutes) or a cron job on Unix.</p>

<div class="codeblock"><code><span style="color: #000000">
<span style="color: #0000BB">import&nbsp;poplib<br />import&nbsp;urllib<br />import&nbsp;re<br />import&nbsp;pycurl</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">sys<br /><br />re_from&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">re</span><span style="color: #007700">.</span><span style="color: #0000BB">compile</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">"^From:&nbsp;(.*)"&nbsp;</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">re_to&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">re</span><span style="color: #007700">.</span><span style="color: #0000BB">compile</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">"^To:&nbsp;(.*)"&nbsp;</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">re_subject&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">re</span><span style="color: #007700">.</span><span style="color: #0000BB">compile</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">"^Subject:&nbsp;(.*)"&nbsp;</span><span style="color: #007700">)<br /><br /><br /></span><span style="color: #0000BB">def&nbsp;email2tracks</span><span style="color: #007700">(</span><span style="color: #0000BB">me</span><span style="color: #007700">,</span><span style="color: #0000BB">p</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">trlp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">cid</span><span style="color: #007700">):<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">host&nbsp;</span><span style="color: #007700">=</span><span style="color: #DD0000">'pop.gmail.com'&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;CHANGE&nbsp;this&nbsp;to&nbsp;be&nbsp;the&nbsp;address&nbsp;of&nbsp;your&nbsp;POP3&nbsp;server<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">me</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">p</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">host<br />&nbsp;&nbsp;&nbsp;&nbsp;pop&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">poplib</span><span style="color: #007700">.</span><span style="color: #0000BB">POP3_SSL</span><span style="color: #007700">(</span><span style="color: #0000BB">host</span><span style="color: #007700">)&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;CHANGE&nbsp;Remove&nbsp;the&nbsp;SSL&nbsp;if&nbsp;your&nbsp;POP3&nbsp;server&nbsp;doesn't&nbsp;use&nbsp;SSL<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">try:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">pop</span><span style="color: #007700">.</span><span style="color: #0000BB">user</span><span style="color: #007700">(</span><span style="color: #0000BB">me</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">pop</span><span style="color: #007700">.</span><span style="color: #0000BB">pass_</span><span style="color: #007700">(</span><span style="color: #0000BB">p</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">msgCount</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">msgTotalSize&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pop</span><span style="color: #007700">.</span><span style="color: #0000BB">stat</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">msgCount</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">msgTotalSize<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emptyHdr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"From"&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"To"&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Subject"&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matchREs&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">&#91;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">re_from</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"From"&nbsp;</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;</span><span style="color: #0000BB">re_to</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"To"&nbsp;</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;</span><span style="color: #0000BB">re_subject</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Subject"&nbsp;</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#93;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">for&nbsp;</span><span style="color: #0000BB">n&nbsp;in&nbsp;range</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">msgCount&nbsp;</span><span style="color: #007700">):<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">msgnum&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">n</span><span style="color: #007700">+</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #FF8000">#&nbsp;msg&nbsp;nums&nbsp;are&nbsp;1-based,&nbsp;not&nbsp;0-based<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">response</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">headerLines</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bytes&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pop</span><span style="color: #007700">.</span><span style="color: #0000BB">top</span><span style="color: #007700">(</span><span style="color: #0000BB">msgnum</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">hdr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">emptyHdr</span><span style="color: #007700">.</span><span style="color: #0000BB">copy</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">hdr&#91;</span><span style="color: #DD0000">"msgnum"</span><span style="color: #0000BB">&#93;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">msgnum<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hdr&#91;</span><span style="color: #DD0000">"size"</span><span style="color: #0000BB">&#93;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">bytes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">for&nbsp;</span><span style="color: #0000BB">line&nbsp;in&nbsp;headerLines</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;</span><span style="color: #0000BB">reExpr</span><span style="color: #007700">,</span><span style="color: #0000BB">hdrField&nbsp;in&nbsp;matchREs</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">match&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">reExpr</span><span style="color: #007700">.</span><span style="color: #0000BB">match</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">line&nbsp;</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;</span><span style="color: #0000BB">match</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">hdr&#91;&nbsp;hdrField&nbsp;&#93;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">match</span><span style="color: #007700">.</span><span style="color: #0000BB">group</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">).</span><span style="color: #0000BB">strip</span><span style="color: #007700">(</span><span style="color: #DD0000">'"'</span><span style="color: #007700">)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">hdr&#91;</span><span style="color: #DD0000">'Subject'</span><span style="color: #0000BB">&#93;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pycurl</span><span style="color: #007700">.</span><span style="color: #0000BB">Curl</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl</span><span style="color: #007700">.</span><span style="color: #0000BB">setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">pycurl</span><span style="color: #007700">.</span><span style="color: #0000BB">URL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"http://127.0.0.1:8000/todos.xml"</span><span style="color: #007700">)&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;CHANGE&nbsp;if&nbsp;not&nbsp;running&nbsp;tracks&nbsp;on&nbsp;same&nbsp;machine&nbsp;as&nbsp;the&nbsp;script,&nbsp;and&nbsp;CHANGE&nbsp;port<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl</span><span style="color: #007700">.</span><span style="color: #0000BB">setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">pycurl</span><span style="color: #007700">.</span><span style="color: #0000BB">POSTFIELDS</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"todo&#91;description&#93;="</span><span style="color: #007700">+</span><span style="color: #0000BB">urllib</span><span style="color: #007700">.</span><span style="color: #0000BB">quote</span><span style="color: #007700">(</span><span style="color: #0000BB">hdr&#91;</span><span style="color: #DD0000">'Subject'</span><span style="color: #0000BB">&#93;</span><span style="color: #007700">)+</span><span style="color: #DD0000">"&amp;todo;&#91;context_id&#93;"</span><span style="color: #007700">+</span><span style="color: #0000BB">cid</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl</span><span style="color: #007700">.</span><span style="color: #0000BB">setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">pycurl</span><span style="color: #007700">.</span><span style="color: #0000BB">USERPWD</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">trlp</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl</span><span style="color: #007700">.</span><span style="color: #0000BB">perform</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl</span><span style="color: #007700">.</span><span style="color: #0000BB">close</span><span style="color: #007700">()<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">pop</span><span style="color: #007700">.</span><span style="color: #0000BB">dele</span><span style="color: #007700">(</span><span style="color: #0000BB">msgnum</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">except&nbsp;poplib</span><span style="color: #007700">.</span><span style="color: #0000BB">error_proto</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">detail</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"POP3&nbsp;error:"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">detail<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;finally</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">pop</span><span style="color: #007700">.</span><span style="color: #0000BB">quit</span><span style="color: #007700">()<br /><br /><br /></span><span style="color: #FF8000">#&nbsp;CHANGE<br />#&nbsp;Parameters&nbsp;are:&nbsp;POP3&nbsp;user,&nbsp;POP3&nbsp;passwd,&nbsp;tracks&nbsp;user:pass,&nbsp;then&nbsp;the&nbsp;context&nbsp;number&nbsp;you&nbsp;wish&nbsp;the&nbsp;email&nbsp;to&nbsp;go&nbsp;to&nbsp;(prefixed&nbsp;with&nbsp;=)<br /></span><span style="color: #0000BB">email2tracks</span><span style="color: #007700">(</span><span style="color: #DD0000">'popuser'</span><span style="color: #007700">,</span><span style="color: #DD0000">'poppass'</span><span style="color: #007700">,</span><span style="color: #DD0000">"tuser:tpass"</span><span style="color: #007700">,</span><span style="color: #DD0000">"=5"</span><span style="color: #007700">)&nbsp;</span>
</span>
</code></div>

<p>&nbsp;</p>

<p>You will need python and pycurl installed.&nbsp; For windows that is: <a href="http://www.getontracks.org/?URL=http%3A%2F%2Fpython.org%2Fftp%2Fpython%2F2.5.2%2Fpython-2.5.2.msi">http://python.org/ftp/python/2.5.2/python-2.5.2.msi</a> for Python and <a href="http://www.getontracks.org/?URL=http%3A%2F%2Fpycurl.sourceforge.net%2Fdownload%2Fpycurl-ssl-7.16.4.win32-py2.5.exe">http://pycurl.sourceforge.net/download/pycurl-ssl-7.16.4.win32-py2.5.exe</a> for pycurl.</p>

<p>Hope this is useful to some,</p>

<p>Martin</p></div>
	
	
	
</td>

</tr><tr>

<td class="tableCellTwo"  style="width:130px;">
	<table cellpadding="0" cellspacing="0" border="0" width="100%">
	<tr>
	<td align="center"><div class="button"><div class="buttonSmall" id="d1" onclick="navJump('http://www.getontracks.org/forums/member/351/')" onmouseover="navHover(this);" onmouseout="navReset(this);">Profile</div></div></td>
	
	

	</tr>
	</table>
</td>

<td class="tableCellTwo" colspan="2">
	<table cellpadding="0" cellspacing="0" border="0">
	<tr>
	
	
	
	
	
	
		
	
	
	&nbsp;
	
	<td>&nbsp;</td>	
	</tr>
	</table>
  </td>
 </tr>
</table>

</td>
</tr>

<tr id="e9" >
 <td colspan="3">


 <table class="threadBorder" cellpadding="0" cellspacing="0" border="0" style="width:100%;">
  <tr>
   <td class="tableRowHeadingBold" style="width:130px;"><div class="largeLinks"><a href="http://www.getontracks.org/forums/member/338/">lucky13cxc</a></div></td>
   <td class="tableRowHeading">

	<table cellpadding="0" cellspacing="0" border="0" style="width:99%;">
	<tr>
	<td>Posted: 18 September 2008 09:42 PM</td>
	<td align="right">
	
		
	
	

	
	
	&nbsp;&nbsp;<span class="smallLinks">[ <a href="http://www.getontracks.org/forums/ignore_member/338/" title="Ignore">Ignore</a> ]</span>
	
	&nbsp;&nbsp;<span class="smallLinks">[ <a name="827" href="http://www.getontracks.org/forums/viewreply/827/" title="Permalink to this post"># 4</a> ]</span>

	&nbsp;
	</td>
	</tr>
	</table>

   </td>
  </tr>
<tr>
 <td class="tableCellOne" style="width:130px;" valign="top">
	<div class="rankMember">Newbie</div>
	
	<div class="itempad"><img src="http://www.getontracks.org/themes/forum_themes/blue/images/rank.gif" alt="Rank" class="rankImage" /></div>
	<div class="userBlock">Total Posts:&nbsp; 2</div>
	<div class="userBlock">Joined&nbsp; 2008-04-08</div>
</td>
<td class="tableCellOne" valign="top" colspan="2"><div class="post"><p>By request of someone on the forum, I thought I could post my updates to the code that allowed for a context and date to be provided.</p><div class="codeblock"><code><span style="color: #000000">
<span style="color: #FF8000">#!/usr/bin/perl<br />#&nbsp;Quick&nbsp;and&nbsp;dirty&nbsp;hack&nbsp;to&nbsp;add&nbsp;tasks&nbsp;via&nbsp;an&nbsp;email.<br />#&nbsp;Install&nbsp;by&nbsp;adding&nbsp;an&nbsp;alias&nbsp;in&nbsp;/etc/aliases&nbsp;or&nbsp;/etc/valiases&nbsp;depending<br />#&nbsp;on&nbsp;yor&nbsp;system:<br />#<br />#&nbsp;mygtdaddress@mydomain.com:&nbsp;"|/home/directory/inboxgtd.pl"<br />#<br /><br />#use&nbsp;strict;<br />#use&nbsp;WWW::Curl::Easy;<br /><br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">XML</span><span style="color: #007700">::</span><span style="color: #0000BB">Simple</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">LWP</span><span style="color: #007700">::</span><span style="color: #0000BB">UserAgent</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">URI</span><span style="color: #007700">::</span><span style="color: #0000BB">Escape</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;Redirect&nbsp;any&nbsp;output&nbsp;to&nbsp;null<br />#open&nbsp;(STDOUT,&nbsp;"&gt;/dev/null");<br />#open&nbsp;(STDERR,&nbsp;"&gt;/dev/null");<br /><br />#&nbsp;Replace&nbsp;with&nbsp;todos.xml&nbsp;and&nbsp;contexts.xml&nbsp;urls&nbsp;of&nbsp;your&nbsp;GTD&nbsp;installation<br />#&nbsp;my&nbsp;$url&nbsp;=&nbsp;"http://yourgtd.yourdomain.com/todos.xml";<br />#&nbsp;my&nbsp;$contextUrl&nbsp;=&nbsp;"http://yourgtd.yourdomain.com/contexts.xml";<br /><br /></span><span style="color: #0000BB">my&nbsp;$url&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"http://yourgtd.yourdomain.com/todos.xml"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$contextUrl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"http://yourgtd.yourdomain.com/contexts.xml"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;The&nbsp;default&nbsp;contextid&nbsp;where&nbsp;you&nbsp;want&nbsp;the&nbsp;todo&nbsp;added<br /></span><span style="color: #0000BB">my&nbsp;$contextid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"10"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#my&nbsp;$curl&nbsp;=&nbsp;WWW::Curl::Easy-&gt;new();<br /><br />#&nbsp;Initialize&nbsp;the&nbsp;post&nbsp;variables<br /></span><span style="color: #0000BB">my&nbsp;$description&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$note&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$duedate&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;Your&nbsp;authorization&nbsp;credentials&nbsp;in&nbsp;the&nbsp;format<br />#&nbsp;my&nbsp;$user&nbsp;=&nbsp;"username";<br />#&nbsp;my&nbsp;$password&nbsp;=&nbsp;"password";<br /><br /></span><span style="color: #0000BB">my&nbsp;$user&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"username"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"password"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;Leave&nbsp;these&nbsp;tokens&nbsp;alone.&nbsp;&nbsp;They&nbsp;are&nbsp;valid&nbsp;as&nbsp;of&nbsp;Tracks&nbsp;1.5&nbsp;RESTful&nbsp;API.<br /></span><span style="color: #0000BB">my&nbsp;$notetag&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"todo&#91;notes&#93;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$contexttag&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"todo&#91;context_id&#93;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$descriptiontag&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"todo&#91;description&#93;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$duetag&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"todo&#91;due&#93;"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;Get&nbsp;the&nbsp;context&nbsp;legend&nbsp;in&nbsp;order&nbsp;to&nbsp;match&nbsp;by&nbsp;name<br /></span><span style="color: #0000BB">$ua&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">LWP</span><span style="color: #007700">::</span><span style="color: #0000BB">UserAgent</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$req&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTTP</span><span style="color: #007700">::</span><span style="color: #0000BB">Request&nbsp;</span><span style="color: #DD0000">'GET'</span><span style="color: #007700">,</span><span style="color: #0000BB">$contextUrl</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">authorization_basic</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">,</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">my&nbsp;$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$ua</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">request</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">my&nbsp;$contexts&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">XMLin</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">content</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">#&nbsp;Dirty&nbsp;hack.<br /></span><span style="color: #0000BB">my&nbsp;$passedempty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"0"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">my&nbsp;</span><span style="color: #007700">@</span><span style="color: #0000BB">mail&nbsp;</span><span style="color: #007700">=&nbsp;&lt;</span><span style="color: #0000BB">STDIN</span><span style="color: #007700">&gt;;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Read&nbsp;in&nbsp;the&nbsp;piped&nbsp;email<br /></span><span style="color: #0000BB">my&nbsp;$line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br /><br />foreach&nbsp;</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">(@</span><span style="color: #0000BB">mail</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(&nbsp;(</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=~&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">/^</span><span style="color: #0000BB">\</span><span style="color: #007700">@(.*)/)&nbsp;)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Split&nbsp;the&nbsp;action&nbsp;string&nbsp;out&nbsp;to&nbsp;grab&nbsp;date&nbsp;if&nbsp;provided<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">@</span><span style="color: #0000BB">newline&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">split</span><span style="color: #007700">(/&nbsp;/,</span><span style="color: #0000BB">$line</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;If&nbsp;a&nbsp;date&nbsp;was&nbsp;provided,&nbsp;grab&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;the&nbsp;array&nbsp;for&nbsp;the&nbsp;context<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(@</span><span style="color: #0000BB">newline&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleancontext&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ucfirst</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$newline&#91;0&#93;</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;if&nbsp;not,&nbsp;just&nbsp;use&nbsp;the&nbsp;matched&nbsp;expression&nbsp;above<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;&nbsp;</span><span style="color: #007700">else&nbsp;</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cleancontext&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ucfirst</span><span style="color: #007700">($</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Grab&nbsp;the&nbsp;appropriate&nbsp;contextid&nbsp;and&nbsp;the&nbsp;due&nbsp;date<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$contextid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$contexts</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">&#123;context&#125;</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">&#123;$cleancontext&#125;</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">&#123;id&#125;</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">&#123;content&#125;</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$duedate&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$newline&#91;1&#93;</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;debugging<br />&nbsp;&nbsp;&nbsp;&nbsp;#$note&nbsp;.=&nbsp;"Context:"&nbsp;.&nbsp;$newline&#91;0&#93;&nbsp;.&nbsp;"\n";<br />&nbsp;&nbsp;&nbsp;&nbsp;#$note&nbsp;.=&nbsp;"Date:"&nbsp;.&nbsp;$newline&#91;1&#93;&nbsp;.&nbsp;"\n";<br />&nbsp;&nbsp;&nbsp;&nbsp;#$note&nbsp;.=&nbsp;"ContextName:"&nbsp;.&nbsp;ucfirst(substr($newline&#91;0&#93;,1));<br />&nbsp;&nbsp;&nbsp;&nbsp;#$note&nbsp;.=&nbsp;@newline;&nbsp;&nbsp;&nbsp;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Minor&nbsp;input&nbsp;validation<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$contextid&nbsp;</span><span style="color: #007700">!~&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">/(</span><span style="color: #0000BB">\d</span><span style="color: #007700">+)/)</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$contextid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"10"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$duedate&nbsp;</span><span style="color: #007700">!~&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">/(</span><span style="color: #0000BB">\d</span><span style="color: #007700">+)</span><span style="color: #0000BB">\</span><span style="color: #007700">/(</span><span style="color: #0000BB">\d</span><span style="color: #007700">+)</span><span style="color: #0000BB">\</span><span style="color: #007700">/(</span><span style="color: #0000BB">\d</span><span style="color: #007700">+)/)&nbsp;</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$duedate&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Don't&nbsp;include&nbsp;the&nbsp;action&nbsp;line&nbsp;in&nbsp;the&nbsp;notes<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Set&nbsp;the&nbsp;subject&nbsp;to&nbsp;the&nbsp;task&nbsp;description&nbsp;(strip&nbsp;the&nbsp;Fw:)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(&nbsp;(</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=~&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">/</span><span style="color: #0000BB">Subject</span><span style="color: #007700">:&nbsp;(.*)/)&nbsp;)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$description&nbsp;</span><span style="color: #007700">=&nbsp;$</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$description&nbsp;</span><span style="color: #007700">=~&nbsp;</span><span style="color: #0000BB">s</span><span style="color: #007700">/</span><span style="color: #0000BB">Fw</span><span style="color: #007700">:&nbsp;</span><span style="color: #FF8000">//;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Hack&nbsp;to&nbsp;find&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;e-mail;&nbsp;this&nbsp;was&nbsp;needed&nbsp;due&nbsp;to&nbsp;a&nbsp;large&nbsp;standard&nbsp;footer&nbsp;being&nbsp;added&nbsp;to&nbsp;the&nbsp;e-mail<br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;may&nbsp;not&nbsp;be&nbsp;needed&nbsp;if&nbsp;this&nbsp;is&nbsp;not&nbsp;the&nbsp;case&nbsp;for&nbsp;your&nbsp;e-mails&nbsp;being&nbsp;forwarded<br />&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Start&nbsp;section&nbsp;--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(&nbsp;(</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=~&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">/(.*)</span><span style="color: #0000BB">tax&nbsp;advice&nbsp;contained&nbsp;in&nbsp;the&nbsp;body</span><span style="color: #007700">(.*)/)&nbsp;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$passedempty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"2"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;If&nbsp;we're&nbsp;passed&nbsp;the&nbsp;text/plain,&nbsp;but&nbsp;before&nbsp;the&nbsp;disclaimer,&nbsp;grab&nbsp;the&nbsp;line&nbsp;for&nbsp;notes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$passedempty&nbsp;eq&nbsp;</span><span style="color: #DD0000">"1"</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$note&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">$line</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Start&nbsp;grabbing&nbsp;after&nbsp;we've&nbsp;hit&nbsp;the&nbsp;plain&nbsp;text&nbsp;portion&nbsp;of&nbsp;the&nbsp;email<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(&nbsp;(</span><span style="color: #0000BB">$line&nbsp;</span><span style="color: #007700">=~&nbsp;</span><span style="color: #0000BB">m</span><span style="color: #007700">/(.*)</span><span style="color: #0000BB">Subject</span><span style="color: #007700">$/)&nbsp;&amp;&amp;&nbsp;</span><span style="color: #0000BB">$passedempty&nbsp;eq&nbsp;</span><span style="color: #DD0000">"0"</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#123;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$passedempty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"1"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&#125;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;&lt;--&nbsp;End&nbsp;Section<br /><br /></span><span style="color: #0000BB">&#125;<br /></span><span style="color: #FF8000">#&nbsp;Trim&nbsp;the&nbsp;notes<br /></span><span style="color: #0000BB">$note&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$note</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">5000</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$note&nbsp;</span><span style="color: #007700">=~&nbsp;</span><span style="color: #0000BB">s</span><span style="color: #007700">/&lt;.*</span><span style="color: #0000BB">?&gt;</span><span style="color: #FF8000">//g;<br /><br />#&nbsp;Here&nbsp;we&nbsp;munge&nbsp;the&nbsp;data&nbsp;together&nbsp;to&nbsp;post.<br /><br /></span><span style="color: #0000BB">my&nbsp;$post_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$contexttag&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"="&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$contextid&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"&amp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$descriptiontag&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"="&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">uri_escape</span><span style="color: #007700">(</span><span style="color: #0000BB">$description</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"&amp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$notetag&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"="&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">uri_escape</span><span style="color: #007700">(</span><span style="color: #0000BB">$note</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"&amp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$duetag&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"="&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">uri_escape</span><span style="color: #007700">(</span><span style="color: #0000BB">$duedate</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">#&nbsp;We&nbsp;execute&nbsp;curl&nbsp;to&nbsp;do&nbsp;the&nbsp;posting.<br />#$curl-&gt;setopt(CURLOPT_URL,&nbsp;$url);<br />#$curl-&gt;setopt(CURLOPT_POSTFIELDS,&nbsp;$post_data);<br />#$curl-&gt;setopt(CURLOPT_USERPWD,&nbsp;$auth);<br />#$curl-&gt;perform();<br /><br />#&nbsp;Use&nbsp;LWP&nbsp;to&nbsp;do&nbsp;the&nbsp;posting&nbsp;($ua&nbsp;was&nbsp;created&nbsp;earlier)<br />#$ua&nbsp;=&nbsp;new&nbsp;LWP::UserAgent;<br /></span><span style="color: #0000BB">$req&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTTP</span><span style="color: #007700">::</span><span style="color: #0000BB">Request&nbsp;</span><span style="color: #DD0000">'POST'</span><span style="color: #007700">,</span><span style="color: #0000BB">$url</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">content_type</span><span style="color: #007700">(</span><span style="color: #DD0000">'application/x-www-form-urlencoded'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">content</span><span style="color: #007700">(</span><span style="color: #0000BB">$post_data</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">authorization_basic</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">,</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$ua</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">request</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">close&nbsp;STDOUT</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">close&nbsp;STDERR</span><span style="color: #007700">;&nbsp;</span>
</span>
</code></div></div>
	
	
	
</td>

</tr><tr>

<td class="tableCellTwo"  style="width:130px;">
	<table cellpadding="0" cellspacing="0" border="0" width="100%">
	<tr>
	<td align="center"><div class="button"><div class="buttonSmall" id="e1" onclick="navJump('http://www.getontracks.org/forums/member/338/')" onmouseover="navHover(this);" onmouseout="navReset(this);">Profile</div></div></td>
	
	

	</tr>
	</table>
</td>

<td class="tableCellTwo" colspan="2">
	<table cellpadding="0" cellspacing="0" border="0">
	<tr>
	
	
	
	
	
	
		
	
	
	&nbsp;
	
	<td>&nbsp;</td>	
	</tr>
	</table>
  </td>
 </tr>
</table>

</td>
</tr>

<tr id="f9" >
 <td colspan="3">


 <table class="threadBorder" cellpadding="0" cellspacing="0" border="0" style="width:100%;">
  <tr>
   <td class="tableRowHeadingBold" style="width:130px;"><div class="largeLinks"><a href="http://www.getontracks.org/forums/member/469/">desrod</a></div></td>
   <td class="tableRowHeading">

	<table cellpadding="0" cellspacing="0" border="0" style="width:99%;">
	<tr>
	<td>Posted: 02 December 2008 01:37 AM</td>
	<td align="right">
	
		
	
	

	
	
	&nbsp;&nbsp;<span class="smallLinks">[ <a href="http://www.getontracks.org/forums/ignore_member/469/" title="Ignore">Ignore</a> ]</span>
	
	&nbsp;&nbsp;<span class="smallLinks">[ <a name="908" href="http://www.getontracks.org/forums/viewreply/908/" title="Permalink to this post"># 5</a> ]</span>

	&nbsp;
	</td>
	</tr>
	</table>

   </td>
  </tr>
<tr>
 <td class="tableCellOne" style="width:130px;" valign="top">
	<div class="rankMember">Newbie</div>
	<div class="itempad"><img src="http://www.getontracks.org/images/avatars/default_set/head_butt.jpg" width="91" height="100" border="0" alt="Avatar" /></div>
	<div class="itempad"><img src="http://www.getontracks.org/themes/forum_themes/blue/images/rank.gif" alt="Rank" class="rankImage" /></div>
	<div class="userBlock">Total Posts:&nbsp; 7</div>
	<div class="userBlock">Joined&nbsp; 2008-11-24</div>
</td>
<td class="tableCellOne" valign="top" colspan="2"><div class="post"><p>Here is a cleaned-up, refactored, faster version, leveraging the use of upstream modules to do the heavy lifting: </p>

<div class="codeblock"><code><span style="color: #000000">
<span style="color: #FF8000">#!/usr/bin/perl<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_._&nbsp;&nbsp;&nbsp;<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/_&nbsp;_`.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(c)&nbsp;2008,&nbsp;David&nbsp;A.&nbsp;Desrosiers<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(.(.)|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setuid@gmail.com<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|\_/'|&nbsp;&nbsp;&nbsp;<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)____`\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Email&nbsp;to&nbsp;Tracks&nbsp;interface<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//_V&nbsp;_\&nbsp;\&nbsp;<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((&nbsp;&nbsp;|&nbsp;&nbsp;`(_)&nbsp;&nbsp;&nbsp;If&nbsp;you&nbsp;find&nbsp;this&nbsp;useful,&nbsp;please&nbsp;drop&nbsp;me&nbsp;<br />#&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;\&gt;&nbsp;'&nbsp;&nbsp;&nbsp;/&nbsp;\&nbsp;&nbsp;&nbsp;an&nbsp;email,&nbsp;or&nbsp;send&nbsp;me&nbsp;bug&nbsp;reports&nbsp;if&nbsp;you&nbsp;find<br />#&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;&nbsp;\.__./&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;problems&nbsp;with&nbsp;it.&nbsp;I&nbsp;accept&nbsp;PayPal&nbsp;too!&nbsp;=-)<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`-'&nbsp;&nbsp;&nbsp;&nbsp;`-'&nbsp;<br />#<br />##############################################################################<br />#&nbsp;<br />#&nbsp;License<br />#<br />##############################################################################<br />#<br />#&nbsp;This&nbsp;script&nbsp;is&nbsp;free&nbsp;software;&nbsp;you&nbsp;can&nbsp;redistribute&nbsp;it&nbsp;and/or&nbsp;modify&nbsp;it<br />#&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;GNU&nbsp;General&nbsp;Public&nbsp;License&nbsp;as&nbsp;published&nbsp;by&nbsp;the&nbsp;Free<br />#&nbsp;Software&nbsp;Foundation;&nbsp;either&nbsp;version&nbsp;2&nbsp;of&nbsp;the&nbsp;License,&nbsp;or&nbsp;(at&nbsp;your&nbsp;option)<br />#&nbsp;any&nbsp;later&nbsp;version.<br />#&nbsp;<br />#&nbsp;This&nbsp;script&nbsp;is&nbsp;distributed&nbsp;in&nbsp;the&nbsp;hope&nbsp;that&nbsp;it&nbsp;will&nbsp;be&nbsp;useful,&nbsp;but&nbsp;WITHOUT<br />#&nbsp;ANY&nbsp;WARRANTY;&nbsp;without&nbsp;even&nbsp;the&nbsp;implied&nbsp;warranty&nbsp;of&nbsp;MERCHANTABILITY&nbsp;or<br />#&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE.&nbsp;&nbsp;See&nbsp;the&nbsp;GNU&nbsp;General&nbsp;Public&nbsp;License&nbsp;for<br />#&nbsp;more&nbsp;details.<br />#&nbsp;<br />#&nbsp;You&nbsp;should&nbsp;have&nbsp;received&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;GNU&nbsp;General&nbsp;Public&nbsp;License&nbsp;along&nbsp;&nbsp;&nbsp;<br />#&nbsp;with&nbsp;this&nbsp;program;&nbsp;if&nbsp;not,&nbsp;write&nbsp;to&nbsp;the&nbsp;Free&nbsp;Software&nbsp;Foundation,&nbsp;Inc.,&nbsp;59<br />#&nbsp;Temple&nbsp;Place<br />#<br />#&nbsp;-&nbsp;Suite&nbsp;330,&nbsp;Boston,&nbsp;MA&nbsp;02111-1307,&nbsp;USA.<br />#<br />##############################################################################<br />#<br />#&nbsp;You'll&nbsp;need&nbsp;to&nbsp;set&nbsp;this&nbsp;up&nbsp;as&nbsp;an&nbsp;alias&nbsp;in&nbsp;your&nbsp;MTA&nbsp;configuration&nbsp;(typically<br />#&nbsp;/etc/aliases),&nbsp;as&nbsp;follows:<br />#<br />#&nbsp;tracks@your-site.tld:&nbsp;"|/path/to/gtd-tracks-mail.pl"<br />#<br />#&nbsp;Don't&nbsp;forget&nbsp;to&nbsp;run&nbsp;'newaliases(1)'&nbsp;after&nbsp;you've&nbsp;modified&nbsp;this&nbsp;so&nbsp;it&nbsp;can<br />#&nbsp;update&nbsp;the&nbsp;aliases&nbsp;table&nbsp;with&nbsp;the&nbsp;new&nbsp;entry.<br />#<br />#&nbsp;Email&nbsp;format&nbsp;can&nbsp;be&nbsp;any&nbsp;of&nbsp;the&nbsp;following:<br />#<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject:&nbsp;The&nbsp;main&nbsp;description&nbsp;of&nbsp;the&nbsp;Task<br />#<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Context&nbsp;&nbsp;<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;01/02/2003<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;my&nbsp;note&nbsp;text<br />#<br />#&nbsp;or:<br />#&nbsp;<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject:&nbsp;Default&nbsp;Task&nbsp;description<br />#<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c:&nbsp;@context&nbsp;&nbsp;<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d:&nbsp;2008/12/31<br />#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n:&nbsp;The&nbsp;note&nbsp;text&nbsp;to&nbsp;insert<br />#<br />#&nbsp;Most&nbsp;valid&nbsp;date&nbsp;formats&nbsp;are&nbsp;accepted,&nbsp;and&nbsp;this&nbsp;will&nbsp;do&nbsp;its&nbsp;best&nbsp;to&nbsp;&nbsp;&nbsp;<br />#&nbsp;"correct"&nbsp;and&nbsp;normalize&nbsp;them.&nbsp;You&nbsp;can&nbsp;also&nbsp;prefix&nbsp;your&nbsp;lines&nbsp;with&nbsp;the<br />#&nbsp;modifiers&nbsp;above,&nbsp;or&nbsp;read&nbsp;the&nbsp;regexes&nbsp;below&nbsp;for&nbsp;more.&nbsp;For&nbsp;example:&nbsp;<br />#&nbsp;c:,&nbsp;context:,&nbsp;cxt:,&nbsp;con:,&nbsp;ct:&nbsp;are&nbsp;all&nbsp;valid&nbsp;prefixes&nbsp;for&nbsp;"context"<br />#&nbsp;n:&nbsp;and&nbsp;note:&nbsp;are&nbsp;all&nbsp;valid&nbsp;prefixes&nbsp;for&nbsp;"notes",&nbsp;and&nbsp;so&nbsp;on.<br />#<br />##############################################################################<br /></span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">strict</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">XML</span><span style="color: #007700">::</span><span style="color: #0000BB">Simple</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">LWP</span><span style="color: #007700">::</span><span style="color: #0000BB">UserAgent</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">URI</span><span style="color: #007700">::</span><span style="color: #0000BB">Escape</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">Email</span><span style="color: #007700">::Abstract;<br />use&nbsp;</span><span style="color: #0000BB">Date</span><span style="color: #007700">::</span><span style="color: #0000BB">Manip</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">Date</span><span style="color: #007700">::</span><span style="color: #0000BB">Parse</span><span style="color: #007700">;<br />use&nbsp;</span><span style="color: #0000BB">Data</span><span style="color: #007700">::</span><span style="color: #0000BB">Dumper</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #0000BB">my&nbsp;$url&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"http://your-site.tld/todos.xml"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$contextUrl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"http://your-site.tld/contexts.xml"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;The&nbsp;default&nbsp;contextid&nbsp;where&nbsp;you&nbsp;want&nbsp;the&nbsp;todo&nbsp;added<br />#&nbsp;SELECT&nbsp;id,name&nbsp;FROM&nbsp;contexts;<br /></span><span style="color: #0000BB">my&nbsp;$contextid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"8"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">my&nbsp;$user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"yourname"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$password&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"yourpass"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;Leave&nbsp;these&nbsp;tokens&nbsp;alone.&nbsp;&nbsp;They&nbsp;are&nbsp;valid&nbsp;as&nbsp;of&nbsp;Tracks&nbsp;1.5&nbsp;RESTful&nbsp;API.<br /></span><span style="color: #0000BB">my&nbsp;</span><span style="color: #007700">%</span><span style="color: #0000BB">todo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">map&nbsp;&#123;&nbsp;</span><span style="color: #007700">+(</span><span style="color: #0000BB">$_&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"todo&#91;</span><span style="color: #0000BB">$_&#93;</span><span style="color: #DD0000">"</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">&#125;&nbsp;qw</span><span style="color: #007700">(</span><span style="color: #0000BB">notes&nbsp;context_id&nbsp;description&nbsp;due</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">#&nbsp;Get&nbsp;the&nbsp;context&nbsp;legend&nbsp;in&nbsp;order&nbsp;to&nbsp;match&nbsp;by&nbsp;name<br /></span><span style="color: #0000BB">my&nbsp;$ua&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">LWP</span><span style="color: #007700">::</span><span style="color: #0000BB">UserAgent</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$req&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTTP</span><span style="color: #007700">::</span><span style="color: #0000BB">Request&nbsp;</span><span style="color: #DD0000">'GET'</span><span style="color: #007700">,</span><span style="color: #0000BB">$contextUrl</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">authorization_basic</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">,</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">my&nbsp;$res&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$ua</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">request</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">my&nbsp;$contexts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">XMLin</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">content</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">#&nbsp;Split&nbsp;apart&nbsp;the&nbsp;email&nbsp;into&nbsp;Subject&nbsp;and&nbsp;Body<br /></span><span style="color: #0000BB">my&nbsp;$message&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;do&nbsp;</span><span style="color: #0000BB">&#123;&nbsp;local&nbsp;</span><span style="color: #007700">$/;&nbsp;&lt;</span><span style="color: #0000BB">STDIN</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">&#125;</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;$email&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Email</span><span style="color: #007700">::Abstract-&gt;</span><span style="color: #0000BB">new</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">my&nbsp;$subject&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$email</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get_header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Subject"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">my&nbsp;$body&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$email</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get_body</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">#&nbsp;These&nbsp;can&nbsp;probably&nbsp;be&nbsp;cleaned&nbsp;up&nbsp;a&nbsp;bit<br /></span><span style="color: #0000BB">my&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$context_line</span><span style="color: #007700">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style="color: #0000BB">$body&nbsp;</span><span style="color: #007700">=~&nbsp;/^(?:</span><span style="color: #0000BB">c</span><span style="color: #007700">:|</span><span style="color: #0000BB">ct</span><span style="color: #007700">:|</span><span style="color: #0000BB">cxt</span><span style="color: #007700">:|</span><span style="color: #0000BB">con</span><span style="color: #007700">:|</span><span style="color: #0000BB">context</span><span style="color: #007700">:|@)</span><span style="color: #0000BB">\s</span><span style="color: #007700">*(.+)$/</span><span style="color: #0000BB">mi</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">my&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$date_line</span><span style="color: #007700">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style="color: #0000BB">$body&nbsp;</span><span style="color: #007700">=~&nbsp;/^(?:</span><span style="color: #0000BB">d</span><span style="color: #007700">:|</span><span style="color: #0000BB">date</span><span style="color: #007700">:)</span><span style="color: #0000BB">\s</span><span style="color: #007700">*(</span><span style="color: #0000BB">\d</span><span style="color: #007700">.*)$/</span><span style="color: #0000BB">m</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$date_line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">UnixDate</span><span style="color: #007700">(</span><span style="color: #0000BB">ParseDate</span><span style="color: #007700">(</span><span style="color: #DD0000">"today"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"%g"</span><span style="color: #007700">)&nbsp;if&nbsp;(</span><span style="color: #0000BB">length</span><span style="color: #007700">(</span><span style="color: #0000BB">$date_line</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">my&nbsp;$time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str2time</span><span style="color: #007700">(</span><span style="color: #0000BB">$date_line</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">my&nbsp;$due_date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">UnixDate</span><span style="color: #007700">(</span><span style="color: #0000BB">scalar&nbsp;gmtime</span><span style="color: #007700">(</span><span style="color: #0000BB">$time</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"%m/%d/%Y"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">my&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$note_line</span><span style="color: #007700">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style="color: #0000BB">$body&nbsp;</span><span style="color: #007700">=~&nbsp;/^(?:</span><span style="color: #0000BB">n</span><span style="color: #007700">:|</span><span style="color: #0000BB">note</span><span style="color: #007700">:)</span><span style="color: #0000BB">\s</span><span style="color: #007700">*(.*?)$/</span><span style="color: #0000BB">mi</span><span style="color: #007700">;&nbsp;<br /><br /></span><span style="color: #FF8000">#&nbsp;Concatenate&nbsp;the&nbsp;data&nbsp;here&nbsp;before&nbsp;we&nbsp;send&nbsp;POST&nbsp;to&nbsp;the&nbsp;Tracks&nbsp;server<br /></span><span style="color: #0000BB">my&nbsp;$post_data&nbsp;</span><span style="color: #007700">=&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$todo&#123;</span><span style="color: #DD0000">'context_id'</span><span style="color: #0000BB">&#125;&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"="&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$contextid&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"&amp;"&nbsp;</span><span style="color: #007700">.&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$todo&#123;</span><span style="color: #DD0000">'description'</span><span style="color: #0000BB">&#125;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"="&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">uri_escape</span><span style="color: #007700">(</span><span style="color: #0000BB">$subject</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"&amp;"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$todo&#123;</span><span style="color: #DD0000">'notes'</span><span style="color: #0000BB">&#125;&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"="&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">uri_escape</span><span style="color: #007700">(</span><span style="color: #0000BB">$note_line</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"&amp;"&nbsp;</span><span style="color: #007700">.&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$todo&#123;</span><span style="color: #DD0000">'due'</span><span style="color: #0000BB">&#125;&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"="&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">uri_escape</span><span style="color: #007700">(</span><span style="color: #0000BB">$due_date</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">#&nbsp;Use&nbsp;LWP&nbsp;to&nbsp;do&nbsp;the&nbsp;posting&nbsp;($ua&nbsp;was&nbsp;created&nbsp;earlier)<br /></span><span style="color: #0000BB">$req&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTTP</span><span style="color: #007700">::</span><span style="color: #0000BB">Request&nbsp;</span><span style="color: #DD0000">'POST'</span><span style="color: #007700">,</span><span style="color: #0000BB">$url</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">content_type</span><span style="color: #007700">(</span><span style="color: #DD0000">'application/x-www-form-urlencoded'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">content</span><span style="color: #007700">(</span><span style="color: #0000BB">$post_data</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$req</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">authorization_basic</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">,</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$ua</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">request</span><span style="color: #007700">(</span><span style="color: #0000BB">$req</span><span style="color: #007700">);&nbsp;</span>
</span>
</code></div></div>
	
	
	
</td>

</tr><tr>

<td class="tableCellTwo"  style="width:130px;">
	<table cellpadding="0" cellspacing="0" border="0" width="100%">
	<tr>
	<td align="center"><div class="button"><div class="buttonSmall" id="f1" onclick="navJump('http://www.getontracks.org/forums/member/469/')" onmouseover="navHover(this);" onmouseout="navReset(this);">Profile</div></div></td>
	
	

	</tr>
	</table>
</td>

<td class="tableCellTwo" colspan="2">
	<table cellpadding="0" cellspacing="0" border="0">
	<tr>
	
	
	
	
	
	
		
	
	
	&nbsp;
	
	<td>&nbsp;</td>	
	</tr>
	</table>
  </td>
 </tr>
</table>

</td>
</tr>

</table>

<table cellpadding="0" cellspacing="0" border="0" style="width:100%;">
<tr>
<td valign="middle" style="width:70%;">

&nbsp;

</td>
&nbsp;

&nbsp;

</tr>
</table>

&nbsp;


<div class="defaultCenter">
<div class="marginpad">


&lsaquo;&lsaquo; <a href="http://www.getontracks.org/forums/viewthread/195/">Agenda context</a> 



&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://www.getontracks.org/forums/viewthread/205/">Applescript and the API</a> &rsaquo;&rsaquo;


</div>
</div>
</div>
<div id="footer">

	
	<div id="switcher">Select A Theme 
		<select name="theme_switcher" class="select" onchange="if (this.value != '') location.href=this.value">
			<option value="http://www.getontracks.org/?ACT=42&amp;board_id=1&amp;theme=grey">Grey</option>
<option value="http://www.getontracks.org/?ACT=42&amp;board_id=1&amp;theme=developer">Developer</option>
<option value="http://www.getontracks.org/?ACT=42&amp;board_id=1&amp;theme=shares">Shares</option>
<option value="http://www.getontracks.org/?ACT=42&amp;board_id=1&amp;theme=blue" selected="selected">Blue</option>
<option value="http://www.getontracks.org/?ACT=42&amp;board_id=1&amp;theme=default">Default</option>

		</select>
	</div><!--switcher-->
	

	<ul class="credits">
		<li>Powered By <a href="http://expressionengine.com/">ExpressionEngine</a></li>
		<li>Template Design By <a href="http://artificialmemory.com/" title="Nathaniel Davis">Artificial Memory</a></li>
        </ul>
        <ul class="stats">
		<li>ExpressionEngine Discussion Forum - version 3.1.5 (20110630)</li>
		<li>Script Executed in 0.1520 seconds</li>
	</ul>
	
	
	<ul class="feeds">
		<li><a href="http://www.getontracks.org/forums/rss/10/"><img src="http://www.getontracks.org/themes/forum_themes/blue/images/feed_rss.jpg" alt="RSS 2.0" title="RSS 2.0" /></a></li>
		<li><a href="http://www.getontracks.org/forums/atom/10/"><img src="http://www.getontracks.org/themes/forum_themes/blue/images/feed_atom.jpg" alt="Atom Feed" title="Atom Feed" /></a></li>
	</ul>
	

</div><!--footer-->
</div><!--wrapper-->
</body>
</html>